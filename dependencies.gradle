File localProperties = file('aar.properties')
Properties properties = null
if (localProperties.exists()) {
    properties = new Properties()
    properties.load(file('aar.properties').newDataInputStream())
}

ext {

    devDir = properties != null ? properties.getProperty("aar.dir") : null
    println('AAR dir is: ' + devDir)

    //Android Base
    androidBuildToolsVersion = "28.0.3"
    androidMinSdkVersion = 21
    androidTargetSdkVersion = 28
    androidCompileSdkVersion = 28

    //3th PARTY LIB VERSIONS
    android_support_version = "28.0.0"
    swipe_layout_version = "1.2.0@aar"
    butter_knife_version = "8.8.1"
    dagger_version = "2.16"
    retrofit_version = "2.4.0"
    retrofit_converter_gson_version = "2.4.0"
    retrofit_converter_scalars_version = "2.4.0"
    okhttp3_logging_interceptor_version = "3.10.0"

    //RDA LIBS NAME
    RDA_LIB_AAR_NAME = "/RDALibrary-debug.aar"

    //RDA LIBS VERSION
    rda_logger_version = "1.0.0"

    //FILE EXISTANCE
    rda_lib_exists = file(devDir + RDA_LIB_AAR_NAME).exists()

    //USE LOCAL ADJUSTMENT
    use_local = true

    use_rda_lib_local = use_local && rda_lib_exists
}

//task('clearDpendencyCache', type: Delete, group: 'MyGroup',
//        description: "Deletes any cached artifacts with the domain of com.matriks.internal in the Gradle cache directory.") {
//    doLast {
//        if (devDir != null) {
//
//            def userHome = System.getProperty('user.home')
//            def baseCashPath = "${userHome}/.gradle/caches/modules-2/files-2.1/"
//
//            def baseDir = new File(baseCashPath)
//
//            println('Find cached libs')
//            def fileList = []
//            baseDir.eachDir { file ->
//                if (file.name.startsWith('com.matriks')) {
//                    fileList.add(file)
//                }
//            }
//
//            println('Delete all cached libs')
//            fileList.each {
//                it.deleteDir()
//            }
//
//
//            println('Delete idea libraries')
//            new File(".idea/libraries").eachFile(FileType.FILES) { file ->
//                if (file.name.contains('com_matriks_internal')) {
//                    file.delete()
//                }
//            }
//        }
//    }
//
//}

//clean.dependsOn clearDpendencyCache




